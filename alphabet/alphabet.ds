INCLUDE "hardware.inc"

SECTION "Header", ROM0[$100]

; rgbds is dest, src
; brackes [arg] indicates a dereference, i.e., take the value stored in address arg

	jp EntryPoint

	; ds (define space) is reserving 150 bytes, second optional arg 0
	; indiciates that we are initializing this chunk of memory to 0
	; @ stands for the current memory address that are at
	ds $150 - @, 0 ; Make room for the header

EntryPoint:
	;

WaitVBlank:
	ld a, [rLY]
	cp 144
	jp c, WaitVBlank

	; Turn the LCD off
	ld a, 0
	ld [rLCDC], a

	; Copy the tile data
	ld de, Tiles
	ld hl, $9000
	ld bc, TilesEnd - Tiles

CopyTiles:
	ld a, [de]
	ld [hli], a
	inc de
	dec bc
	ld a, b
	or a, c
	jp nz, CopyTiles

	; Copy the tilemap
	ld de, Tilemap
	ld hl, $9800
	ld bc, TilemapEnd - Tilemap

CopyTilemap:
	ld a, [de]
	ld [hli], a
	inc de
	dec bc
	ld a, b
	or a, c
	jp nz, CopyTilemap

	; Turn the LCD on
	ld a, LCDCF_ON | LCDCF_BGON
	ld [rLCDC], a

	; During the first (blank) frame, initialize display registers
	ld a, %11100100
	ld [rBGP], a

Done:
	jp Done

Tiles:
	; Empty $00
	dw `00000000
	dw `00000000
	dw `00000000
	dw `00000000
	dw `00000000
	dw `00000000
	dw `00000000
	dw `00000000
	; A $01
	dw `01111100
	dw `10000010
	dw `11111110
	dw `10000010
	dw `10000010
	dw `10000010
	dw `00000000
	dw `00000000
	; B $02
	dw `11111100
	dw `10000010
	dw `11111110
	dw `10000010
	dw `10000010
	dw `11111100
	dw `00000000
	dw `00000000
	; C $03
	dw `01111110
	dw `10000000
	dw `10000000
	dw `10000000
	dw `10000000
	dw `01111110
	dw `00000000
	dw `00000000
	; D $04
	dw `11111100
	dw `10000010
	dw `10000010
	dw `10000010
	dw `10000010
	dw `11111100
	dw `00000000
	dw `00000000
	; E $05
	dw `01111110
	dw `10000000
	dw `11111110
	dw `10000000
	dw `10000000
	dw `01111110
	dw `00000000
	dw `00000000
	; F $06
	dw `01111110
	dw `10000000
	dw `11111110
	dw `10000000
	dw `10000000
	dw `10000000
	dw `00000000
	dw `00000000
	; G $07
	dw `01111110
	dw `10000000
	dw `10000000
	dw `10011110
	dw `10000010
	dw `01111100
	dw `00000000
	dw `00000000
	; H $08
	dw `10000010
	dw `10000010
	dw `11111110
	dw `10000010
	dw `10000010
	dw `10000010
	dw `00000000
	dw `00000000
	; I $09
	dw `11111110
	dw `00010000
	dw `00010000
	dw `00010000
	dw `00010000
	dw `11111110
	dw `00000000
	dw `00000000
	; J $0A
	dw `11111110
	dw `00010000
	dw `00010000
	dw `00010000
	dw `00010000
	dw `11100000
	dw `00000000
	dw `00000000
	; K $0B
	dw `10000100
	dw `10001000
	dw `11110000
	dw `10001000
	dw `10000100
	dw `10000100
	dw `00000000
	dw `00000000
	; L $0C
	dw `10000000
	dw `10000000
	dw `10000000
	dw `10000000
	dw `10000000
	dw `11111100
	dw `00000000
	dw `00000000
	; M $0D
	dw `01111100
	dw `10010010
	dw `10010010
	dw `10010010
	dw `10010010
	dw `10010010
	dw `00000000
	dw `00000000
	; N $0E
	dw `10000100
	dw `11000100
	dw `10100100
	dw `10010100
	dw `10001100
	dw `10000100
	dw `00000000
	dw `00000000
	; O $0F
	dw `01111100
	dw `10000010
	dw `10000010
	dw `10000010
	dw `10000010
	dw `01111100
	dw `00000000
	dw `00000000
	; P $10
	dw `01111100
	dw `10000010
	dw `11111100
	dw `10000000
	dw `10000000
	dw `10000000
	dw `00000000
	dw `00000000
	; Q $11
	dw `01111100
	dw `10000010
	dw `10000010
	dw `10001010
	dw `10000110
	dw `01111110
	dw `00000001
	dw `00000000
	; R $12
	dw `11111100
	dw `10000010
	dw `11111100
	dw `10001000
	dw `10000100
	dw `10000010
	dw `00000000
	dw `00000000
	; S $13
	dw `01111110
	dw `10000000
	dw `01111100
	dw `00000010
	dw `00000010
	dw `11111100
	dw `00000000
	dw `00000000
	; T $14
	dw `11111110
	dw `00010000
	dw `00010000
	dw `00010000
	dw `00010000
	dw `00010000
	dw `00000000
	dw `00000000
	; U $15
	dw `10000010
	dw `10000010
	dw `10000010
	dw `10000010
	dw `10000010
	dw `01111100
	dw `00000000
	dw `00000000
	; V $16
	dw `10000010
	dw `10000010
	dw `10000010
	dw `01000100
	dw `00101000
	dw `00010000
	dw `00000000
	dw `00000000
	; W $17
	dw `10000010
	dw `10010010
	dw `10010010
	dw `10010010
	dw `10010010
	dw `01101100
	dw `00000000
	dw `00000000
	; X $18
	dw `01000100
	dw `00101000
	dw `00010000
	dw `00101000
	dw `01000100
	dw `10000010
	dw `00000000
	dw `00000000
	; Y $19
	dw `10000010
	dw `01000100
	dw `00101000
	dw `00010000
	dw `00010000
	dw `00010000
	dw `00000000
	dw `00000000
	; Z $20
	dw `11111100
	dw `00001000
	dw `00010000
	dw `00100000
	dw `01000000
	dw `11111100
	dw `00000000
	dw `00000000
TilesEnd:

Tilemap:
	;  0   1   2   3   4   5   6   7   8   9   10  11  12  13  14  15  16  17  18  19
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F,$10,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$11,$12,$13,$14,$15,$16,$17,$18,$19,$1A,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$02,$19,$00,$08,$0F,$13,$17,$0F,$0F,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, 0,0,0,0,0,0,0,0,0,0,0,0
TilemapEnd:

